<view>
  <swiper indicator-dots="{{false}}"
    autoplay="{{true}}" interval="{{5000}}" duration="{{1000}}" bindchange="changeSwiper" style="height:{{bannerImgHeights[currentSwiper]}}px !important;">
    <block wx:for="{{banners}}" wx:key="*this">
      <swiper-item>
        <xcx-navigator game="{{item}}">
          <image lazy-load="{{true}}" mode="widthFix" data-index="{{index}}" src="{{item.pic}}" class="slide-image" bindload='imgHeight' style="width:{{bannerImgWidth}}px" />
        </xcx-navigator>
      </swiper-item>
    </block>
  </swiper>

  <!-- content -->
  <view class="games">
    <view class="content" wx:for="{{categorys}}" wx:key="*this">
      <view class="item-title">
        <view class="game-category">
          <view>
            <image lazy-load="{{true}}" src="{{item.icon ? item.icon : '../../images/hot-icon.png'}}"></image>
          </view>
          <view style="color: {{item.color ? item.color : '#0c0c0c;'}}">{{item.name}}</view>
        </view>
        <view wx:if="{{!verifying}}" class="game-more" bindtap="clickMore" data-type="{{item.type}}" data-id="{{index}}">更多</view>
      </view>
      <scroll-view class="scroll-view_H" scroll-x>
        <block wx:for="{{item.games}}" wx:key="*this" wx:for-item="game">
          <xcx-navigator class="item_content" game="{{game}}">
            <image lazy-load="{{true}}" class="game-icon" src="{{game.logo}}" style="width: {{gameItemWidth}}px; height: {{gameItemWidth}}px;"/>
            <view style="width:{{gameItemWidth}}px;" class='game-title'>{{game.name}}</view>
            <view wx:if="{{game.playerNum}}" style="width:{{gameItemWidth}}px;" class='game-desc'>{{game.playerNum}}人在玩</view>
          </xcx-navigator>
        </block>
      </scroll-view>
    </view>
  </view>

  <view class="ad" wx:if="{{adpos=='top'}}">
    <ad unit-id="adunit-a3868a599f8b3cfa"></ad>
  </view>
  <!-- tab -->
  <!-- <view>
    <scroll-view scroll-x="true" class="tab-layout" scroll-left="{{navScrollLeft}}" scroll-with-animation="true">
      <block wx:for="{{tabs}}" wx:key='*this'>
          <view id="{{index}}" class="{{activeIndex == index ?'tab-item-on':''}} tab-item" 
            bindtap="tabClick" style="width:{{tabW}}px"
            data-item='{{item.name}}' data-type="{{item.type}}">
              {{item.name}}
          </view>
      </block>
    </scroll-view>

    <view class="gamebox-games">
      <block wx:for="{{tabPageData[activeIndex]}}" wx:key="*this">
        <xcx-navigator nav-class="gamebox-item" game="{{item}}">
          <view class="gamebox-item-logo">
            <image lazy-load="{{true}}" src="{{item.logo}}" />
          </view>
          <view class="gamebox-item-info">
            <view>{{item.name}}</view>
            <view class="gamebox-item-info_desc">{{item.desc}}</view>
          </view>
          <view class="gamebox-item-play">开始</view>
        </xcx-navigator>
      </block> 
      </view>
  </view> -->
 
 

  <!-- <view class="gamebox-games" wx:if="{{games.length>0}}">
    <view class="item-title">
      <view class="game-category">
        <view>
          <image src="../../images/more-icon.png"></image>
        </view>
        <view>游戏一览</view>
      </view>
      <view wx:if="{{!verifying}}" class="game-more" bindtap="clickMore" data-type="" data-id="-1">更多</view>
    </view>
    <block wx:for="{{games}}" wx:key="*this">
      <xcx-navigator nav-class="gamebox-item" game="{{item}}">
        <view class="gamebox-item-logo">
          <image lazy-load="{{true}}" src="{{item.logo}}" />
        </view>
        <view class="gamebox-item-info">
          <view>{{item.name}}
            <text wx:if="{{item.playerNum}}" class='gamebox-item-num'><text>{{item.playerNum}}</text>人在玩</text>
          </view>
          <view class="gamebox-item-info_desc">{{item.desc}}</view>
        </view>
        <view class="gamebox-item-play">开始</view>
      </xcx-navigator>
    </block>
  </view> -->

  <view class="ad" wx:if="{{adpos!='top'}}">
    <ad unit-id="adunit-a3868a599f8b3cfa"></ad>
  </view>
</view>
<!--tab+swiper-->
<view>
  <scroll-view scroll-x="true" class="tab-layout" scroll-left="{{navScrollLeft}}" scroll-with-animation="true">
      <block wx:for="{{tabs}}" wx:key='*this'>
           <view id="{{index}}" class="{{activeIndex == index ?'tab-item-on':''}} tab-item" 
            bindtap="tabClick" style="width:{{tabW}}px"
            data-item='{{item.name}}' data-type="{{item.type}}">
              {{item.name}}
          </view>
      </block>
  </scroll-view>

  <swiper current="{{activeIndex}}" class="content-layout" bindchange="bindChange" style="height: {{contentHeight}}px">
    <block wx:for="{{tabs}}" wx:key="*this">
      <swiper-item>
      <view class="gamebox-games" style="height: {{contentHeight}}px">
          <block wx:for="{{tabPageData[activeIndex]}}" wx:key="*this">
          <xcx-navigator nav-class="gamebox-item" game="{{item}}">
            <view class="gamebox-item-logo">
              <image lazy-load="{{true}}" src="{{item.logo}}" />
            </view>
            <view class="gamebox-item-info">
              <view>{{item.name}}</view>
              <view class="gamebox-item-info_desc">{{item.desc}}</view>
            </view>
            <view class="gamebox-item-play">开始</view>
          </xcx-navigator>
          </block>
      </view>
      </swiper-item>
    </block>
  </swiper>
</view>